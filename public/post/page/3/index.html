<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>啃魂的寒舍</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.147.8">
    
    
    
      <meta name="robots" content="index, follow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.8d048772ae72ab11245a0e296d1f2a36d3e3dd376c6c867394d6cc659c68fc37.css" >




    


    
      

    

    
    
      <link href="/post/index.xml" rel="alternate" type="application/rss+xml" title="啃魂的寒舍" />
      <link href="/post/index.xml" rel="feed" type="application/rss+xml" title="啃魂的寒舍" />
      
    

    
      <link rel="canonical" href="https://kenhunshuchong.web.app/post/">
    

    <meta property="og:url" content="https://kenhunshuchong.web.app/post/">
  <meta property="og:site_name" content="啃魂的寒舍">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Posts">
  <meta itemprop="datePublished" content="2025-08-08T16:36:26+08:00">
  <meta itemprop="dateModified" content="2025-08-08T16:36:26+08:00">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Posts">

      
    
	
  </head><body class="ma0 avenir bg-near-white production">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        啃魂的寒舍
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      

  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links mid-gray">
      
    </section>
    <aside class="flex-ns mt5 flex-wrap justify-around">
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E5%86%85%E5%AD%98%E7%9B%98/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2022-9-28">2022-9-28</h2>
<p>今天尝试用新的p2p下载软件下载东西时，发现电脑硬盘和cpu网盘都叫得厉害，于是想到内存盘，用部分内存都代替硬盘。</p>
<p>后来发现不是那p2p下载软件的问题，而是在安装另一个.exe文件时出错，系统一直没杀死那出错的程序，而我又一直没注意到这事，只以为是那p2p下载软件的问题，就没再去细心检查。</p>
<p>不过，既然已经在搞内存盘，自然得搞完再说。</p>
<p>linux的内存盘可以不用下载别的软件，直接用命令搞定。但我为了内存分配的自由，下载了一个专门用来干这事的软件，叫‘cargo-ramdisk’。如果不用这软件，自己弄，要么是内存盘死死地占据一部分内存，要么是内存和虚拟内存一起当内存盘可自由分配。我当然是选择用软件，更专业，更方便，更实用。</p>
<p>我不想每次都手动用软件去重新设置新的内存盘，所以写了段bash代码放入sh文件，把文件放入&rsquo;/etc/local.d&rsquo;文件夹下。这个文件夹下的sh文件会在系统启动时自动调用。</p>
<pre tabindex="0"><code>#!/bin/sh
# /etc/rc.local.d/set_ramdisk.sh

unlink /home/yoli/下载/ramdisk
cargo-ramdisk -t /home/yoli/下载/ramdisk
</code></pre><p>做完后出现了一个新问题，&lsquo;ramdisk&rsquo;文件夹的权限问题。它的默认权限是属于&rsquo;root&rsquo;用户，这让人用起来很不方便。为了将它的权限自动改为&rsquo;yoli&rsquo;用户，我接着又写了个系统服务文件，也就是&rsquo;service&rsquo;文件。</p>
<pre tabindex="0"><code>[Unit]
Description=chown ramdisk--yoli add
After=network.target

[Service]
User=root
Group=root
ExecStart=chown yoli:root /home/yoli/下载/ramdisk

[Install]
WantedBy=default.target
</code></pre><p>我把它放在&rsquo;/etc/systemd/system/&rsquo;，再敲下自动启动服务的命令&rsquo;sudo systemctl enable chown_ramdisk.service&rsquo;。</p>
<p>重启电脑看效果，没让人失望。’/home/yoli/下载/ramdisk‘目录变成了内存盘，平时不用时不占用多少内存，要用随时可以用。</p>
<p>试着将firefox浏览器的cache目录链接到ramdisk目录，可以用，但一时间看不出什么效果来，便又改回去了。</p>
<p>不过，这内存盘还是继续留在那儿吧！</p>
<p>要用时再用。</p>
<h2 id="2023513">2023.5.13</h2>
<p>发现没必要用服务文件<code>chown_ramdisk.service</code>，直接前面的bash文件中增加chown代码就是：<code>chown yoli:yoli /home/yoli/下载/ramdisk</code></p>
<p>后来发现内存盘的地址随机跳动，firefox文件夹自然也跟着跳没了，只好将bash代码改成：</p>
<pre tabindex="0"><code>chown yoli:yoli /home/yoli/下载/ramdisk
mkdir -m 755 /dev/shm/firefox
chown yoli:yoli /dev/shm/firefox
</code></pre><p>Today, WHEN I TRIED to DOWNLOAD THINGS WITH the new P2P downloading software, I found that the computer hard disk and the CPU web disk were called badly, so I thought of the RAM disk and replaced the hard disk with part of the memory.
Later found that is not the P2P download software problem, but in the installation of another.EXE file error, the system has not killed that error program, and I have not noticed this matter, only thought that is the P2P download software problem, did not go to carefully check.
However, since we are already doing RAM disk, naturally have to finish.
Linux RAM disk can be done without downloading other software, directly with the command.
But for the freedom of memory allocation, I downloaded a program called Cargo-Ramdisk that does just that.
If you don&rsquo;t use this software and do it yourself, either the RAM disk occupies a large portion of the memory, or the memory and virtual memory together when the RAM disk can be freely allocated.
Of course I choose to use software, more professional, more convenient, more practical.
I didn&rsquo;t want to manually use software to reset the new RAM disk every time, so I wrote a piece of bash code and put it into sh file, and put the file in the &lsquo;/etc/local.d&rsquo; folder.
The sh file in this folder is automatically invoked at system startup.</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E5%86%85%E5%AD%98%E7%9B%98/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E5%A6%82%E4%BD%95%E4%B8%8B%E8%BD%BD%E6%95%B4%E4%B8%AA%E7%BD%91%E7%AB%99/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2022-10-5">2022-10-5</h2>
<p>runoob.com网站上有很多内容想另存为html网页，一页一页地下载太麻烦。</p>
<p>网上有人用利用wget命令下载，我试了一下，下载后的效果明显比不上在网上直接观看。那些对命令参数比较熟悉的，或许能取得更好的效果。但至少可能肯定不适合傻瓜式操作。</p>
<p>接着试了下httrack，这是个网站克隆工具。这玩意看起来复杂，用起来却可能很傻瓜式地实用，下载后的效果跟在网上直接观看没什么两样。</p>
<p>直接输入httrack命令，按提示存放网站的路径，和输入目标网址，别的选项一路回车就行，那些等于全都是选择 了默认配置。</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E5%A6%82%E4%BD%95%E4%B8%8B%E8%BD%BD%E6%95%B4%E4%B8%AA%E7%BD%91%E7%AB%99/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E5%AD%97%E4%BD%93/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2021-10-3">2021-10-3</h2>
<h3 id="jetbrainsmono">JetBrainsMono</h3>
<p>这字体是好是坏暂时还看不出来，称用一段时间看看。</p>
<p>I can&rsquo;t tell whether the font is good or bad for the time being. I&rsquo;ll take a look at it for a while.</p>
<blockquote>
<p>下面这个链接是一些nerd fonts的下载地址，个人推荐JetBrainsMono Nerd Font</p>
<p><a href="https://github.com/ryanoasis/nerd-fonts/releases">Releases · ryanoasis/nerd-fonts</a></p>
<p><a href="https://github.com/ryanoasis/nerd-fonts/releases">github.com/ryanoasis/nerd-fonts/releases</a></p>
<p>解压下载完的字体压缩包，假设目录名是JetBrainsMono</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>mkdir -p ~/.local/share/fonts
</span></span><span style="display:flex;"><span>cp -vr JetBrainsMono/ ~/.local/share/fonts
</span></span><span style="display:flex;"><span>fc-cache -vf
</span></span></code></pre></div></blockquote>
<h2 id="2022-10-11">2022-10-11</h2>
<p>为了给主分区多腾出一些空间，把fonts目录转移到另一分区opt目录下，在原来的地方换一个软链接替代。</p>
<pre tabindex="0"><code>sudo cp /usr/share/fonts /opt/fonts -R
sudo mv /usr/share/fonts /usr/share/fonts.bak
sudo ln -s /opt/fonts /usr/share/fonts
sudo rm -R /usr/share/fonts.bak
sudo fc-cache -vf
</code></pre><p><strong>注意：有些字体管理软件在搜索相同字体时，上面两个目录的字体会出现，这时候一定不要管，不要去删除其中任何一个。因为事实上它们是同一个，只占用一份硬盘空间。</strong></p>
<h2 id="2022-11-7">2022-11-7</h2>
<p>今天系统来了个大更新，更新后发现很多字体不能用，问题应该是出在&rsquo;/usr/share/fonts&rsquo;指向&rsquo;/opt/fonts/&lsquo;的软链接在更新时被删除 <code>sudo ln -s /opt/fonts /usr/share/fonts</code>。</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E5%AD%97%E4%BD%93/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E5%BC%80%E6%9C%BA/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2022-2-9">2022-2-9</h2>
<p>前几天内核更新后，系统进不去了。</p>
<p>弄了好几天，终于算弄了个半好。因为现在用的是linux515内核，出问题前用的是510内核，更高版本的linux516和linux517还是用不了，用的话就开机黑屏。</p>
<ul>
<li>
<p>找到的第一个问题出在服务<code>systemd-modules-load.service</code>，当时根据的错误提示是<code>faild to start load kernel</code>。
接着用命令<code>systemctl status systemd-modules-load.service</code>查看出问题这服务的状态，从中找出问题所在的PID值。
然后通过<code>journalctl _PID=20373</code>命令来从日志中筛选出与这个Process ID相关的日志（_PID的值替换为相应的Process ID）。Process ID是进程号。当然，操作系统可能给别的进程分配这个进程号，进程号前面就是这个进程的名字了。由于我们关心<code>systemd-modules-load</code>，所以注意与之相关的日志。除了使用Process ID进行筛选，还可以直接使用服务名进行筛选：<code>journalctl _SYSTEMD_UNIT=systemd-modules-load.service</code>。
从日志中发现，问题出在<code>crypto_user</code>。网上找不到与之相关的直接地解决方法，于是只好打开服务文件<code>systemd-modules-load.service</code>，从中找到那些加载的路径，然后用<code>grep crypto_user 路径/*</code>命令，一个一个路径去尝试。结果发现在<code>/lib/modules.d/</code>下有一个文件里面有用到<code>cryto_user</code>。把这文件做了个备份后删除原来的，再测试，发现<code>systemd-modules-load</code>服务恢复了正常，<code>faild to start load kernel</code>错误提示消失了。</p>
</li>
<li>
<p>找到的其他一系列问题都没找到直接解决的办法，间接解决的方法是先用U盘进入，在终端用<code>manjaro-chroot -a</code>命令来自动挂载硬盘中的linux系统，再从最低的内核开始装，看哪一个能用。这一次比较幸运，最低的那个就能用，就能不通过U盘开机进入到系统中，这样可以操作的空间就更大了。接下来，无非就是试验高版本的内核哪些能用了，这儿发现最高只能用到linux515，再往上用了开机就黑屏。</p>
</li>
</ul>
<p>余下还有的问题就不知怎么去解决了，暂时能进入系统和正常使用大部分功能就行了。</p>
<h1 id="其他">其他</h1>
<ul>
<li>qt环境变量加上后，开机时少了条错误提示。后来发现配置文件‘/etc/lightdm/lightdm.conf’中‘greeter-session = lightdm-gtk-greeter’，于是试着敲了条命令‘yay -S gtk’，结果发现真的没安装gtk。安装后重新开机，发现错误提示又少了两条。并且，当前用户的python2,错误提示不再是site，变成了缺少operator。后来发现那些开机出现的错误提示主要都是由tor引起的，提示信息为匿名网络服务，只要关闭tor服务就没事了。tor服务不好用，不如用tor浏览器提供的9150端口代理服务。最后一个错误提示是因为systemd-swap服务引起的，这服务在运行时运行文件出现错误，因为缺少一个python3的包文件，用pip3安装后就好了。</li>
</ul>
<p>After the kernel update a few days ago, the system couldn&rsquo;t get in.
It took a few days, but I finally got a half good one.
Because I am using Linux515 kernel now, I was using 510 kernel before the problem, the later versions Linux516 and Linux517 still don&rsquo;t work, if you use it, you will get a black screen on the boot.</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E5%BC%80%E6%9C%BA/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%90%9C%E7%B4%A2/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2021-8-9">2021-8-9</h2>
<p>用了那么多搜索后，突然想改变一下自己的搜索习惯，做一个比较适合自己的搜索软件。</p>
<ul>
<li>首先，我们要搜索一些资源的时候，可以先从自己的笔记入手。养成这么一个习惯，笔记中找不到再到别的地方去找，找到后再记一些笔记。既能丰富自己的笔记库，又能加强印象，还能方便以后再用。</li>
<li>其次，便是从浏览器的书签中搜索。不要一个一个去点，去找，而是直接在搜索框中输入想要的内容。这样就不怕书签中的内容越来越多，越来越难找，反而希望越丰富越好，找起来反而越方便。</li>
<li>最后才回归到正常的网络搜索中，百度、谷歌、duck、bing等等。</li>
</ul>
<p>如果没有一个专门的软件来统合，会觉得很麻烦，很不习惯，还不如直接百度。</p>
<p>要改变长久以来的习惯，说容易又不容易。这得有一个契机！</p>
<p>一个文件夹一个文件夹去找肯定不是好习惯，原本应该数据越多越方便，事实反而让人惧怕。怕自己的好笔记多了？怕自己的好书签多了？可笑又可悲！</p>
<p>希望我的新软件能基本达到预期的目标，打破旧习惯。</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%90%9C%E7%B4%A2/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2021-10-3">2021-10-3</h2>
<h3 id="dolphin">dolphin</h3>
<p>昨天在youtube上看别人用这款文件管理器，感觉很惊艳，于是忍不住又把这浏览器装上，开始各种配置。</p>
<p>真正用起来发现，它并没想象中那么好。虽然它确实有很多别人没有的功能，也确实很强大，但要真正好用就必须配套。换句话说，就是用KDE版的manjaro。</p>
<p>manjaro的发行版主要有三个，一个是我现在正在用的xfce，另一个是KDE版的，还有一个是gnome版的。对内存的消耗，一个比一个大，xfce是最轻量级的。</p>
<p>It was amazing to see others using this file manager on YouTube yesterday, so I couldn&rsquo;t help installing this browser and starting various conigurations.</p>
<p>When it&rsquo;s really used, it&rsquo;s not as good as expected. Although it does have many functions that others do not have, and it is indeed very powerful, it must be matched in order to be really easy to use.In other words, use the KDE version of manjaro.</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%9D%80%E6%AF%92/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>[TOC]</p>
<h1 id="for-linux">for linux</h1>
<h2 id="2019-6-26">2019-6-26</h2>
<h3 id="clamav">clamav</h3>
<p>本来对开源杀毒软件<code>clamav</code>与它附带的<code>clamtk</code>很感兴趣，不想它表现给人感觉奇差，忍来忍去实在受不了，也只好删了才干净。</p>
<p>换一个吧！</p>
<p>再去其他说有免费的杀毒软件的官网一看，一个个都早就不是免费了，Avira、Avast、AVG、F-PROT ……</p>
<h3 id="eset-nod32-antivirus-4-for-linux-desktop">ESET NOD32 Antivirus 4 for Linux Desktop</h3>
<p>翻来找去选了个‘ESET NOD32 Antivirus 4 for Linux Desktop’，试试看再说。安装到最后一步，重启后发现要激活，只好找了个别人公布的‘用户名：TRIAL-0255801637密码：npkxp4392b’试试看。这一试就变成了‘产品已激活，用户名和密码无效，病毒库更新不了’。病毒库版本停留在19107（20190329），别的方面倒是挺好用。</p>
<p>网上有评价：</p>
<blockquote>
<p>ESET NOD32优点：占用系统资源少、轻巧、不卡机，安装后电脑很安静。
ESET NOD32缺点：“主动防御、防火墙”性能很差，适用电脑初学者。如果您对计算机“安全”要求较高，请选择“其他品牌”安全软件。</p></blockquote>
<p>这评价似乎很中肯！</p>
<p>用了会再看，又让人怀念起<code>clamav</code>来。怀疑这主要是因为更新失败还老是去尝试更新而造成，害CPU不时又一阵狂转。于是，又装上一款‘Comodo Antivirus for Linux’试试看。</p>
<h3 id="comodo-antivirus-for-linux">Comodo Antivirus for Linux</h3>
<p>这个是之前差不多一起下载下来的，后下载一会还先下载完，之前没安装是不想同时用几款杀毒软件。安装到最后配置时，两个软件果然起了冲突，只能选择一个来试验。</p>
<p>这软件给人第一印象不错，但太多Bug，弄了会没完全弄好，就不想再折腾下去了，果断卸载。</p>
<p>用<code>apt remove cav-linux</code>卸载不了，得用<code>sudo dpkg -r cav-linux</code>才行。</p>
<h1 id="for-manjaro">for manjaro</h1>
<h2 id="2021-9-21">2021-9-21</h2>
<h3 id="clamav-1">clamav</h3>
<p>linux版杀毒软件还真难选，虽然以clamav没信心，第一次安装后马上最删了，但最后还是选了它。</p>
<p>暂时先用用看……</p>
<p>clamav的安装分五步：</p>
<ol>
<li>
<p>安装clamav，这是没图形界面的。</p>
</li>
<li>
<p>安装clamtv，这是有图形界面的。</p>
</li>
<li>
<p>安装病毒库。病毒库在<code>/var/lib/clamav/</code>，更新时很占空间。好在更新后软件会把那些临时文件都删了，最后剩下两百多M病毒库文件。在更新病毒库的时候要注意，只用<code>freshclam</code>命令是没法更新的，必须在命令前面加上<code>sudo</code>才行。</p>
</li>
<li>
<p>配置开机启动病毒库自动更新服务</p>
<p><code>#systemctl enable clamav-freshclam.service</code></p>
</li>
<li>
<p>配置开机启动守护进程服务</p>
<p><code>systemctl enable clamav-daemon.service</code></p>
</li>
</ol>
<p>linux antivirus software is really difficult to choose, although with clamav no confidence, the first installation immediately after the most deleted, but finally chose it.</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%9D%80%E6%AF%92/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%AD%8C%E8%AF%8D/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2021-10-8">2021-10-8</h2>
<h3 id="osd-lyrics">OSD lyrics</h3>
<p>linux下的歌词软件，在各大搜索引擎中搜索结果中首推的是这一款，但在正常安装下，这软件多半不能正常使用。即使下载源代码，自己编译，结果还是好不了多少。这怎么回事？</p>
<p>我在下载源代码的时候，看了下相关依赖的页面，试着一个一个去安装那些依赖。提示已经安装了最新版的就略过，没有安装的就安装。结果很快就发现，osdlyrics正在变得越来越好用。问题原来就出在这儿！</p>
<p>The lyrics software under linux is the first one in the search results of major search engines, but most of the software can not be used normally under normal installation. Even if you download the source code and compile it yourself, the result is not much better. What&rsquo;s going on?</p>
<p>When I downloaded the source code, I looked at the related cependencies page and tried to install those dependencies one by one. Tips skip if the latest version has been installed, and install if it has not been installed. I was soon found that osdlyrics was becoming more and more useful. That&rsquo;s the problem!</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%AD%8C%E8%AF%8D/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%B7%BB%E5%8A%A0%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2020-10-26">2020-10-26</h2>
<p>把.service脚本文件放到这个目录下：/etc/systemd/system/</p>
<p>然后参照给aria2c设置开机自动启动服务，再那样弄一遍。</p>
<h2 id="2021-7-10">2021-7-10</h2>
<p>做了个自动清理内存的脚本，想把它挂在定时任务里，每15分钟自动运行一次。新装了个cronie，装好后试了好久都还是不能按时运行定时任务。网上找了好久，找不到有什么解决的办法，似乎别人都没遇见过这问题。按别人说的只要那么做就行，但在我这儿就是不行。最后，还是自己想办法把这问题给解决了，发现那问题是出在‘载入MyCrontab计划到cron服务模块中’这一步，得把这命令改一下<code>crontab ~/MyCrontab</code>，在前面加一个<code>sudo</code>，改成<code>sudo crontab ~/MyCrontab</code>。</p>
<p>感想：问题是小却很磨人，被网上那些方法误导了一次又一次。</p>
<h2 id="2021-9-23">2021-9-23</h2>
<p>还是计划任务的问题。因为新买了台笔记本，很多都要再装一次，再设置一次。</p>
<p>这一次发现，计划任务有<code>root</code>用户和<code>yoli</code>用户的区别。在<code>yoli</code>用户下没看到的计划任务，未必不会出现在<code>root</code>用户下执行。再加上执行和log写入权限权限的问题，计划任务最好统一在<code>root</code>用户下执行。</p>
<p>所以，在使用<code>crontab</code>命令的时候，最好先用<code>su</code>切换到<code>root</code>用户下。</p>
<p>这样还有另一个好处，就是不用再<code>sudo</code>了。</p>
<p>计划任务相关目录和文件：</p>
<ul>
<li><code>/etc/crontab/</code>，这目录是为了<code>crontab</code>在后台服务时能正常运行，最好有手工创建一个。</li>
<li><code>/var/spool/cron/</code>，这目录是系统用来存储定时任务文件。</li>
<li><code>~/crontab/</code>，这目录是我们自己用来存储定时任务脚本文件，也就是<code>.sh</code>文件。</li>
<li><code>~/MyCrontab</code>，这文件是我们用户自己用来存储定时任务的文件，主要用来规划定时任务的时间。在用<code>crontab -e</code>编写定时任务时，可以把临时文件改一改它的默认值，把它存在这个文件上。</li>
</ul>
<h2 id="2021-9-27">2021-9-27</h2>
<p>如果不是突然看log，我还不知道：我在给<code>log_journal_clean</code>计划任务定时的时候，会因为只设定了小时，没设定分钟，分钟那儿使用的是<code>*</code>，结果定时任务执行时，居然会在设定的那些小时内的每一分钟都执行一次，而不是预想中的只执行一次。</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E6%B7%BB%E5%8A%A0%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
    <h1 class="f3 near-black">
      <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E8%87%AA%E5%8A%A8%E6%B8%85%E7%90%86pacman%E4%B8%B4%E6%97%B6%E6%96%87%E4%BB%B6/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h2 id="2021-7-10">2021-7-10</h2>
<p>可以把内存来当目录用，关机重启自动清空临时文件。</p>
<p>新手可能不知道，linux多数发行版都会在fstab内预留了一个内存目录,挂载在/dev/shm,直接使用即可，/dev/shm针对所有的用户都能进行读写操作，不用担心权限问题。</p>
<p>修改/etc/pacman.conf将pacman的临时文件生成位置指向你的/dev/shm文件夹，就像这样:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ cat /etc/pacman.conf 
</span></span><span style="display:flex;"><span>#
</span></span><span style="display:flex;"><span># /etc/pacman.conf
</span></span><span style="display:flex;"><span>#
</span></span><span style="display:flex;"><span># See the pacman.conf(5) manpage for option and repository directives
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#
</span></span><span style="display:flex;"><span># GENERAL OPTIONS
</span></span><span style="display:flex;"><span>#
</span></span><span style="display:flex;"><span>[options]
</span></span><span style="display:flex;"><span># The following paths are commented out with their default values listed.
</span></span><span style="display:flex;"><span># If you wish to use different paths, uncomment and update the paths.
</span></span><span style="display:flex;"><span>[[RootDir]]     = /
</span></span><span style="display:flex;"><span>[[DBPath]]      = /var/lib/pacman/
</span></span><span style="display:flex;"><span>CacheDir = /dev/shm/pacman/
</span></span><span style="display:flex;"><span>（省略接下来的内容）
</span></span></code></pre></div><p>也有考虑把.cache送进内存盘（比如/dev/shm/cache），并将所有系统临时文件送进内存盘（这可能还得先写一个开机自动建新文件夹的脚本，用<code>ln -s 源文件 目标文件</code>创建软链接。因为重启会自动清空，那样会把那些文件夹给一起清空。这样的话就比较麻烦了，所以暂时还没实现，还只是在考虑中。）</p>
<h2 id="2020-7-14">2020-7-14</h2>
<p>试着用下面这命令清理了一下flatpak，又腾出1G多空间。</p>
<pre tabindex="0"><code>flatpak uninstall --unused
</code></pre><p>再试着下面这命令清理了一下journal，又腾出2G多空间。</p>
    </div>
  <a href="/post/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97/%E7%BB%8F%E9%AA%8C%E5%BF%83%E5%BE%97-%E8%87%AA%E5%8A%A8%E6%B8%85%E7%90%86pacman%E4%B8%B4%E6%97%B6%E6%96%87%E4%BB%B6/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>

        </div>
      
    </aside>
    
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/post/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/page/2/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/post/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/post/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/post/page/4/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/page/4/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="https://kenhunshuchong.web.app/" >
    &copy;  啃魂的寒舍 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
