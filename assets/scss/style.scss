/*!
*   Hugo Theme Stack (Modified for Purple Scholarly Style)
*   Theme: Light Purple (content) + Dark Purple (background) + White (text)
*   Scholarly, elegant atmosphere
*/

/* ====== Theme Variables ====== */
$primary-light-purple: #e1bee7;
$primary-medium-purple: #ce93d8;
$primary-dark-purple: #8e44ad;
$primary-accent-purple: #ba68c8;

$bg-main-deep-purple: rgba(48, 25, 73, 0.85); // 半透明背景
$bg-secondary-light: rgba(248, 240, 252, 0.95);

$text-light: #ffffff;
$text-muted-light: rgba(255,255,255,0.75);
$text-link: $primary-medium-purple;
$text-link-hover: $primary-accent-purple;
$text-dark-contrast: #3a0b4c;

$shadow: 0 4px 12px rgba($primary-dark-purple, 0.15);
$shadow-hover: 0 8px 20px rgba($primary-dark-purple, 0.2);

$radius: 10px;
$radius-sm: 8px;
$radius-pill: 999px;

$transition: 280ms cubic-bezier(.2, .7, .2, 1);

$font-main: "Songti SC", "SimSun", serif;
$font-code: ui-monospace, 'SFMono-Regular', 'Courier New', monospace;

$breakpoint-md: 768px;
$bg-card: rgba(171, 71, 188, 0.1);
$bg-card-hover: rgba(171, 71, 188, 0.2);

/* ====== Import Base ====== */
@import "breakpoints.scss";
@import "variables.scss";
@import "grid.scss";
@import "external/normalize.scss";

/* ====== Theme Partials ====== */
@import "partials/menu.scss";
@import "partials/article.scss";
@import "partials/widgets.scss";
@import "partials/footer.scss";
@import "partials/pagination.scss";
@import "partials/sidebar.scss";
@import "partials/base.scss";
@import "partials/layout/list.scss";
@import "partials/layout/404.scss";
@import "partials/layout/search.scss";
@import "posts";
@import "partials/comments/comments.scss";
@import "hero";
@import "collapse";
@import "home";
@import "partials/single";
@import "partials/tag-cloud";


/* ====== General Overrides ====== */
@import "general.scss";
@import "custom.scss";
@import "codeblocks";

/* ====== Global Background and Font Setup ====== */
body {
    background-color: $bg-main-deep-purple;
    background-image:
        linear-gradient(135deg, rgba($primary-light-purple,0.15), rgba($primary-medium-purple,0.25)),
        url('/images/background.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;

    color: $text-light;
    font-family: $font-main;
    margin: 0;
    padding: 0;
    line-height: 1.75;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

a {
    color: $text-link;
    text-decoration: none;
    transition: color $transition;

    &:hover, &:focus {
        color: $text-link-hover;
        text-decoration: underline;
        text-underline-offset: 3px;
    }
}

hr {
    border: none;
    height: 1px;
    background: $primary-medium-purple;
    opacity: 0.6;
    margin: 2rem 0;
}

h1,h2,h3,h4,h5,h6 {
    color: $text-light;
}

.text-dark-contrast {
    color: $text-dark-contrast;
}

/* ====== Card & Panel Styles ====== */
.card {
    background-color: rgba($primary-dark-purple, 0.7);
    border-radius: $radius;
    box-shadow: $shadow;
    transition: transform $transition, box-shadow $transition;

    &:hover {
        transform: translateY(-4px);
        box-shadow: $shadow-hover;
    }
}

.light-bg-element {
    background-color: $bg-secondary-light;
    color: $text-dark-contrast;
    border-radius: $radius;
    padding: 1.5rem;
}

/* ====== Scrollbar ====== */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba($primary-dark-purple,0.5);
}

::-webkit-scrollbar-thumb {
    background: $primary-medium-purple;
    border-radius: 4px;

    &:hover {
        background: $primary-accent-purple;
    }
}

/* ====== Responsive Adjustments ====== */
@media (max-width: 768px) {
    body {
        line-height: 1.6;
    }

    .card, .light-bg-element {
        padding: 1rem;
    }

    a {
        text-underline-offset: 2px;
    }
}

/* ====== Dark Mode ====== */
[data-scheme="dark"] {
    $dark-bg: rgba(42, 27, 66, 0.9);
    $dark-card: rgba(61,46,95,0.95);
    $dark-text: #d6d0e8;

    body {
        background-color: $dark-bg;
        color: $dark-text;
    }

    .card {
        background-color: $dark-card;
        color: $dark-text;
        box-shadow: 0 4px 12px rgba(42,27,66,0.3);

        &:hover {
            box-shadow: 0 8px 20px rgba(42,27,66,0.4);
        }
    }

    a {
        color: lighten($dark-text,10%);

        &:hover {
            color: lighten($primary-light-purple,15%);
        }
    }
}
