<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>紫韵浅紫主题 - v6 · 巅峰升级版</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ============================================================
   紫韵浅紫主题 v6 · 巅峰升级版
   主题色调：浅紫明亮 + 半透明背景 + 紫色高亮
   升级点：
   - 深度优化颜色方案，引入自适应色调变体和HSL模式以支持动态主题切换。
   - 强化半透明与模糊效果，使用 backdrop-filter 和 CSS filters 提升视觉深度和交互反馈。
   - 全面扩展响应式设计，支持容器查询、CSS grid areas 和 viewport units 以实现超精密自适应。
   - 完善暗模式与高对比模式，支持 prefers-contrast: more 和手动类切换 (.high-contrast)。
   - 极致提升可访问性：集成 ARIA 标签、焦点管理、减弱颜色模式 (prefers-reduced-data) 和语义化组件。
   - 融合前沿 CSS 特性，如 @scope、:host、scroll-timeline 和 color-mix 高级用法。
   - 新增高级组件：轮播、弹出菜单、数据表格、图表容器、错误消息框。
   - 引入交互动画（如翻转、弹性反弹），并优化 prefers-reduced-motion 支持。
   - 性能巅峰：@layer 细化分层、变量局部化、选择器优化和惰性加载提示。
   - 添加自定义属性覆盖、打印优化和触摸/指针事件适应。
   ============================================================ */

/* ========== 层级组织 ========== */
@layer reset, base, components, utilities, overrides;

/* ========== 重置样式 @layer reset ========== */
@layer reset {
  *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    scroll-margin-top: var(--spacing-xxl);
  }
}

/* ========== 基础变量 @layer base ========== */
@layer base {
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    /* 多层渐进蒙版叠加渐变噪点与毛玻璃 */
    background:
      /* base purple gradient */
      linear-gradient(120deg, hsl(var(--hue-purple),75%,83%) 10%, hsl(var(--hue-purple),83%,93%) 80%),
      /* grainy SVG noise */
      url('data:image/svg+xml;utf8,<svg ...>...</svg>');

    /* mask出页面上下渐隐，见[1][2] */
    mask-image: linear-gradient(to bottom,
      transparent 0%, black 12%, black 88%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom,
      transparent 0%, black 12%, black 88%, transparent 100%);
    /* 渐进式毛玻璃：叠加多层模糊见[1][3] */
    backdrop-filter: blur(32px) saturate(160%) contrast(115%);
    -webkit-backdrop-filter: blur(32px) saturate(160%) contrast(115%);
    opacity: 0.72;
    transition: opacity 0.65s;
    pointer-events: none;
  }
  :root {
    /* 提供全局色彩 API */
    --theme-variant: 'default';
  }
  :root.theme-winter {
    --hue-purple: 259;
    --sat-purple: 62%;
    --light-purple: 76%;
  }
  :root.theme-autumn {
    --hue-purple: 300;
    --sat-purple: 55%;
    --light-purple: 34%;
  }
  :root {
    /* 主题色 - HSL模式以便动态调整 */
    --hue-purple: 280;
    --sat-purple: 70%;
    --light-purple: 50%;
    --color-deep-purple: hsl(var(--hue-purple), var(--sat-purple), 30%);
    --color-medium-purple: hsl(var(--hue-purple), var(--sat-purple), 50%);
    --color-accent-purple: hsl(var(--hue-purple), var(--sat-purple), 70%);
    --color-light-purple: hsl(var(--hue-purple), 20%, 95%);
    --color-bright-purple: hsl(var(--hue-purple), 80%, 60%);
    --color-gradient-purple: linear-gradient(135deg, var(--color-medium-purple), var(--color-bright-purple));
    --color-gradient-hover: linear-gradient(135deg, var(--color-bright-purple), var(--color-accent-purple));
    --color-background: color-mix(in srgb, hsl(var(--hue-purple), 40%, 60%) 75%, transparent);

    /* 文字颜色 */
    --color-text-primary: hsl(0, 0%, 5%);
    --color-text-secondary: hsl(0, 0%, 30%);
    --color-text-light: hsl(0, 0%, 95%);
    --color-link: var(--color-medium-purple);
    --color-link-hover: var(--color-bright-purple);

    /* 背景色 */
    --color-bg-card: color-mix(in srgb, white 96%, transparent);
    --color-bg-secondary: color-mix(in srgb, var(--color-light-purple) 92%, transparent);
    --color-bg-accent: color-mix(in srgb, var(--color-accent-purple) 25%, transparent);
    --color-bg-hover: color-mix(in srgb, var(--color-medium-purple) 15%, transparent);

    /* 阴影 */
    --shadow-base: 0 8px 20px color-mix(in srgb, var(--color-deep-purple) 8%, transparent);
    --shadow-hover: 0 12px 32px color-mix(in srgb, var(--color-deep-purple) 12%, transparent);
    --shadow-card-light: 0 4px 12px color-mix(in srgb, var(--color-deep-purple) 4%, transparent);

    /* 边框 */
    --border-color: hsl(var(--hue-purple), 30%, 80%);
    --border-focus: var(--color-bright-purple);
    --border-radius: var(--radius-md);

    /* 圆角 */
    --radius-sm: 4px;
    --radius-md: 16px;
    --radius-lg: 28px;
    --radius-pill: 999px;

    /* 间距 - 使用clamp自适应 */
    --container-width: clamp(320px, 90vw, 1440px);
    --gutter: clamp(1rem, 3vw, 3.5rem);
    --spacing-xs: 0.6rem;
    --spacing-sm: 1.2rem;
    --spacing-md: 1.8rem;
    --spacing-lg: 2.4rem;
    --spacing-xl: 3.6rem;
    --spacing-xxl: 5.5rem;

    /* 字体 */
    --font-main: ui-serif, 'Georgia', 'Songti SC', 'STKaiti', 'Noto Serif SC', serif;
    --font-sans: 'PingFang SC', 'Microsoft YaHei', 'Helvetica Neue', sans-serif;
    --font-heading: var(--font-sans);
    --font-code: ui-monospace, 'SFMono-Regular', 'Courier New', 'Source Code Pro', monospace;

    /* 字重 */
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    /* 过渡与动画 */
    --transition-fast: 250ms ease;
    --transition-normal: 400ms cubic-bezier(0.34, 1.56, 0.64, 1); /* 弹性反弹 */
    --transition-smooth: 550ms ease-out;
    --animation-fade-in: fade-in 0.7s ease-out;
    --animation-scale-up: scale-up 0.5s ease-out;
    --animation-pulse: pulse 1.8s infinite;
    --animation-spin: spin 1.2s linear infinite;
    --animation-flip: flip 0.6s ease;

    /* 其他 */
    --backdrop-blur: blur(10px);
    --backdrop-saturate: saturate(150%);
    --accent-color: var(--color-medium-purple);
    --scroll-timeline: scroll-timeline;
  }

  /* 暗模式与高对比 */
  :root.dark-mode,
  @media (prefers-color-scheme: dark) {
    --light-purple: 20%;
    --color-text-primary: hsl(0, 0%, 95%);
    --color-text-secondary: hsl(0, 0%, 70%);
    --color-text-light: hsl(0, 0%, 10%);
    --color-bg-card: color-mix(in srgb, hsl(0, 0%, 20%) 96%, transparent);
    --color-bg-secondary: color-mix(in srgb, hsl(var(--hue-purple), 20%, 25%) 92%, transparent);
    --color-background: color-mix(in srgb, hsl(var(--hue-purple), 50%, 30%) 75%, transparent);
    --shadow-base: 0 8px 20px rgba(0, 0, 0, 0.4);
    --border-color: hsl(0, 0%, 40%);
  }

  @media (prefers-contrast: more) {
    :root, :root.high-contrast {
      --color-text-primary: black;
      --color-text-secondary: #333;
      --color-bg-card: white;
      --border-color: black;
      --shadow-base: none;
      --backdrop-blur: none;
    }
  }

  /* 减弱数据模式 */
  @media (prefers-reduced-data: reduce) {
    body {
      background-image: none !important;
    }
    img {
      loading: lazy;
    }
  }
}

/* ========== 全局样式 @layer base ========== */
@layer base {
  html {
    scroll-behavior: smooth;
    touch-action: manipulation;
    accent-color: var(--accent-color);
  }

  body {
    font-family: var(--font-main);
    color: var(--color-text-primary);
    line-height: 1.9;
    background: linear-gradient(rgba(var(--hue-purple), 30%, 20%, 0.3), rgba(var(--hue-purple), 40%, 40%, 0.35)), url('/images/background.jpg') center/cover no-repeat scroll;
    background-attachment: scroll;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    scroll-timeline: --page-scroll block;
  }

  @media (min-width: 1400px) {
    body {
      background-attachment: fixed;
    }
  }

  /* 动画减弱 */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
      transition-property: none !important;
    }
  }

  /* 关键帧动画 */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes scale-up {
    from { transform: scale(0.9); }
    to { transform: scale(1); }
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  @keyframes flip {
    from { transform: rotateY(0deg); }
    to { transform: rotateY(180deg); }
  }

  /* 打印样式增强 */
  @media print {
    body {
      background: white;
      color: black;
      font-size: 12pt;
    }
    a {
      color: black;
      text-decoration: underline;
    }
    .nav, .footer, .modal, .tooltip__text, .loader {
      display: none;
    }
    img {
      max-width: 80%;
    }
  }
}

/* ========== 实用工具类 @layer utilities ========== */
@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .backdrop-blur {
    backdrop-filter: var(--backdrop-blur) var(--backdrop-saturate);
  }

  .touch-friendly {
    min-height: 52px;
    min-width: 52px;
  }

  .pointer-fine {
    @media (pointer: fine) {
      cursor: pointer;
    }
  }

  .parallax-bg {
    --scroll-distance: 0px;
    background-attachment: fixed;
    animation: parallax-scroll 8s linear infinite;
    animation-timeline: view();
  }

  .focus-trap {
    outline: 2px dotted var(--border-focus);
    outline-offset: 4px;
    box-shadow: 0 0 0 6px color-mix(in srgb, var(--border-focus) 7%, transparent);
  }

  @keyframes parallax-scroll {
    0%   { background-position: 0 0; }
    100% { background-position: 0 220px; }
  }
}

/* ========== 组件样式 @layer components ========== */
@layer components {
  .btn--morph {
    background: linear-gradient(90deg, var(--color-bright-purple), var(--color-accent-purple));
    filter: drop-shadow(0 10px 20px color-mix(in srgb, var(--color-accent-purple) 18%, transparent));
    border: none;
    will-change: transform, filter;
    transition: transform 0.18s, filter 0.22s;
    animation: morph 3s infinite;
  }
  .btn--morph:hover, .btn--morph:focus {
    filter: drop-shadow(0 16px 22px color-mix(in srgb, var(--color-accent-purple) 21%, transparent));
    transform: scale(1.06) rotate(-1deg);
    animation: morph 1s;
  }
  .glass-gradient {
    position: relative;
    background:
      linear-gradient(112deg, hsl(var(--hue-purple), 85%, 80%, 0.7), transparent 100%);
    border-radius: var(--radius-lg);
    overflow: hidden;
  }
  .glass-gradient::before {
    content: "";
    position: absolute;
    inset: 0;
    -webkit-backdrop-filter: blur(10px) saturate(180%);
    backdrop-filter: blur(10px) saturate(180%);
    opacity: 0.72;
    z-index: 0;
    /* 渐隐遮罩，见[1][2][5] */
    mask: linear-gradient(to bottom, black 80%, transparent 100%);
    pointer-events: none;
  }
  .glass-gradient > * { position: relative; z-index: 1; }
  .frosted-block {
    position: relative;
    border-radius: var(--radius-lg);
    overflow: hidden;
    z-index: 1;
  }
  .frosted-block::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 0;
    /* 纵向渐进透明蒙版 + 毛玻璃 */
    background:
      linear-gradient(135deg, var(--color-medium-purple) 70%, var(--color-light-purple) 100%);
    mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
    backdrop-filter: blur(16px) saturate(160%);
    opacity: 0.85;
    pointer-events: none;
    transition: opacity 0.35s;
  }
  .frosted-block > * { position: relative; z-index: 1; }
  /* 容器 - 支持scope */
  @scope (.container) {
    :scope {
      max-width: var(--container-width);
      margin: 0 auto;
      padding: 0 var(--gutter);
      container-type: inline-size;
    }

    @container (max-width: 768px) {
      :scope {
        padding: 0 var(--spacing-xxl);
      }
    }

    @container (max-width: 480px) {
      :scope {
        padding: 0 var(--spacing-xl);
      }
    }
  }

  /* 链接 */
  a {
    color: var(--color-link);
    text-decoration: none;
    transition: color var(--transition-fast), text-decoration-color var(--transition-fast);
  }

  a:hover,
  a:focus {
    color: var(--color-link-hover);
    text-decoration: underline;
    text-decoration-color: color-mix(in srgb, var(--color-accent-purple) 30%, transparent);
    text-underline-offset: 6px;
  }

  a:focus-visible {
    outline: 4px solid var(--border-focus);
    outline-offset: 6px;
    border-radius: var(--radius-sm);
  }

  /* 按钮 */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-md);
    padding: var(--spacing-lg) var(--spacing-xxl);
    border-radius: var(--radius-md);
    font-family: var(--font-heading);
    font-size: 1.2rem;
    line-height: 1.6;
    border: 1px solid transparent;
    cursor: pointer;
    min-height: 56px;
    transition: transform var(--transition-normal), box-shadow var(--transition-normal), background-color var(--transition-normal), color var(--transition-normal), border-color var(--transition-normal);
    animation: var(--animation-scale-up);
    touch-action: manipulation;
  }

  .btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
    animation: none;
  }

  .btn:focus-visible {
    outline: 5px solid color-mix(in srgb, var(--color-bright-purple) 20%, transparent);
    outline-offset: 6px;
    border-radius: calc(var(--radius-md) + 5px);
  }

  .btn--primary {
    background: var(--color-gradient-purple);
    color: var(--color-text-light);
    box-shadow: var(--shadow-base);
  }

  .btn--primary:hover,
  .btn--primary:focus {
    background: var(--color-gradient-hover);
    transform: translateY(-6px) scale(1.02);
    box-shadow: var(--shadow-hover);
  }

  .btn--ghost {
    background: transparent;
    border-color: color-mix(in srgb, var(--color-medium-purple) 30%, transparent);
    color: var(--color-medium-purple);
  }

  .btn--ghost:hover,
  .btn--ghost:focus {
    background: var(--color-medium-purple);
    color: var(--color-text-light);
    transform: translateY(-6px);
    box-shadow: var(--shadow-base);
  }

  .btn--secondary {
    background: var(--color-bg-accent);
    color: var(--color-deep-purple);
    border-color: var(--border-color);
  }

  .btn--secondary:hover,
  .btn--secondary:focus {
    background: var(--color-accent-purple);
    color: var(--color-text-light);
    transform: translateY(-6px);
  }

  /* Hero */
  .hero {
    position: relative;
    text-align: center;
    padding: var(--spacing-xxl) var(--gutter);
    color: var(--color-text-light);
    display: grid;
    place-items: center;
    isolation: isolate;
    box-shadow: 0 14px 32px color-mix(in srgb, var(--color-deep-purple) 10%, transparent);
    border-radius: var(--radius-lg);
    overflow: hidden;
    animation: var(--animation-fade-in);
    backdrop-filter: var(--backdrop-blur);
  }

  .hero__image {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.8;
    z-index: -1;
    filter: saturate(140%) contrast(125%) brightness(120%);
  }

  .hero::after {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;
    background: var(--color-gradient-purple);
    opacity: 0.3;
    filter: blur(5px);
  }

  .hero__title {
    font-family: var(--font-heading);
    font-size: clamp(2.6rem, 5.5vw, 5.5rem);
    margin: 0;
    position: relative;
    padding-bottom: var(--spacing-xl);
    font-weight: var(--font-weight-bold);
  }

  .hero__title::after {
    content: "";
    position: absolute;
    left: 50%;
    bottom: 0;
    transform: translateX(-50%);
    width: 140px;
    height: 7px;
    background: var(--color-bright-purple);
    border-radius: 6px;
  }

  .hero__tagline {
    margin-top: var(--spacing-xxl);
    font-size: clamp(1.4rem, 3.2vw, 2.2rem);
    opacity: 0.85;
    font-style: italic;
    max-width: 65%;
    margin-left: auto;
    margin-right: auto;
  }

  .hero .btn {
    margin-top: var(--spacing-xxl);
    background: color-mix(in srgb, var(--color-light-purple) 65%, white);
    color: var(--color-deep-purple);
    border-color: transparent;
    font-weight: var(--font-weight-semibold);
  }

  .hero .btn:hover,
  .hero .btn:focus {
    background: var(--color-gradient-hover);
    color: var(--color-text-light);
    animation: var(--animation-flip);
  }

  /* Section 标题 */
  .section-title {
    margin: 0 0 var(--spacing-xxl);
    font-size: clamp(1.7rem, 3.2vw, 2.8rem);
    border-left: 8px solid var(--color-medium-purple);
    padding-left: var(--spacing-xxl);
    display: inline-block;
    background: var(--color-gradient-purple);
    -webkit-background-clip: text;
    color: transparent;
    animation: var(--animation-fade-in);
  }

  /* Featured Section */
  .featured {
    padding: var(--spacing-xxl) 0;
    background: var(--color-bg-secondary);
  }

  .featured .container {
    display: grid;
    gap: var(--spacing-xxl);
    grid-template-areas: "card1 card2 card3";
  }

  @container (max-width: 768px) {
    .featured .container {
      grid-template-areas: "card1" "card2" "card3";
    }
  }

  .featured__card {
    display: flex;
    flex-direction: column;
    border-radius: var(--radius-lg);
    overflow: hidden;
    background: var(--color-bg-card);
    box-shadow: var(--shadow-base);
    transition: transform var(--transition-smooth), box-shadow var(--transition-smooth), background-color var(--transition-fast);
    position: relative;
    animation: var(--animation-scale-up);
  }

  .featured__card:hover,
  .featured__card:focus-within {
    transform: translateY(-12px) rotate(2deg);
    box-shadow: var(--shadow-hover);
    background: var(--color-bg-hover);
  }

  .featured__card::before {
    content: "";
    position: absolute;
    inset: 0 0 auto 0;
    height: 7px;
    background: var(--color-gradient-purple);
  }

  .featured__cover {
    width: 100%;
    aspect-ratio: 16/9;
    object-fit: cover;
  }

  .featured__content {
    padding: var(--spacing-xxl);
    flex-grow: 1;
  }

  .featured__content h3 {
    margin: 0 0 var(--spacing-xl);
    font-size: 1.6rem;
    line-height: 1.55;
    font-weight: var(--font-weight-semibold);
    position: relative;
  }

  .featured__content h3::after {
    content: "";
    position: absolute;
    bottom: -10px;
    left: 0;
    width: 80px;
    height: 6px;
    background: var(--color-bright-purple);
    border-radius: 5px;
  }

  /* Recent Posts */
  .recent {
    padding: var(--spacing-xxl) 0;
  }

  .post-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 默认两列 */
    gap: var(--spacing-xxl);
    align-items: start;
  }

  @media (max-width: 900px) {
  .post-grid {
    grid-template-columns: 1fr; /* 平板和手机改成一列 */
  }

  @container (max-width: 480px) {
    .post-grid {
      grid-template-columns: 1fr;
    }
  }

  .post-card {
    background: color-mix(in srgb, var(--color-light-purple) 75%, white);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-card-light);
    transition: transform var(--transition-smooth), box-shadow var(--transition-smooth);
    display: flex;
    flex-direction: column;
    position: relative;
    animation: var(--animation-fade-in);
  }

  .post-card:hover,
  .post-card:focus-within {
    transform: translateY(-12px);
    box-shadow: var(--shadow-hover);
  }

  .post-card::before {
    content: "";
    position: absolute;
    inset: 0 0 auto 0;
    height: 6px;
    background: var(--color-accent-purple);
    border-radius: 5px;
  }

  .post-card__thumb {
    width: 100%;
    aspect-ratio: 16/10;
    object-fit: cover;
  }

  .post-card__title {
    margin: var(--spacing-xxl) var(--spacing-xxl) var(--spacing-lg);
    font-size: 1.5rem;
    line-height: 1.55;
    font-weight: var(--font-weight-semibold);
  }

  .post-card__date {
    display: block;
    margin: 0 var(--spacing-xxl) var(--spacing-xxl);
    font-size: 1.05rem;
    color: var(--color-text-secondary);
    font-style: italic;
  }

  /* Tag Cloud */
  .tag-cloud {
    padding: var(--spacing-xxl) 0;
    background: var(--color-bg-secondary);
  }

  .tag-cloud__inner {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xl);
    justify-content: center;
  }

  .tag-badge {
    background: var(--color-bg-card);
    border: 1px solid color-mix(in srgb, var(--color-medium-purple) 30%, transparent);
    color: var(--color-medium-purple);
    padding: var(--spacing-lg) var(--spacing-xxl);
    border-radius: var(--radius-pill);
    font-size: 1.1rem;
    text-decoration: none;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast), background-color var(--transition-fast), color var(--transition-fast);
    box-shadow: var(--shadow-card-light);
    white-space: nowrap;
    animation: var(--animation-scale-up);
  }

  .tag-badge:hover,
  .tag-badge:focus {
    background: var(--color-gradient-hover);
    color: var(--color-text-light);
    transform: scale(1.12);
    box-shadow: var(--shadow-hover);
    animation: var(--animation-pulse);
  }

  /* CTA */
  .cta {
    text-align: center;
    padding: var(--spacing-xxl) 0;
    background: var(--color-bg-secondary);
  }

  .cta__form {
    margin-top: var(--spacing-xxl);
    display: flex;
    justify-content: center;
    gap: var(--spacing-xxl);
    flex-wrap: wrap;
  }

  .cta input[type="email"] {
    padding: var(--spacing-xl) var(--spacing-xxl);
    font-size: 1.25rem;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    min-width: min(420px, 100vw);
    background: var(--color-bg-card);
    box-shadow: inset 0 4px 6px color-mix(in srgb, var(--color-deep-purple) 6%, transparent);
    transition: border-color var(--transition-normal), box-shadow var(--transition-normal);
  }

  .cta input[type="email"]:focus {
    border-color: var(--border-focus);
    outline: none;
    box-shadow: inset 0 4px 6px color-mix(in srgb, var(--color-deep-purple) 6%, transparent), 0 0 0 7px color-mix(in srgb, var(--color-medium-purple) 10%, transparent);
  }

  .cta input[type="email"]:invalid {
    border-color: #e53935;
    box-shadow: 0 0 0 4px color-mix(in srgb, #e53935 25%, transparent);
  }

  /* 导航菜单 */
  .nav {
    box-shadow: var(--shadow-base);
    position: sticky;
    top: 0;
    z-index: 100;
    padding: var(--spacing-xl) 0;
    backdrop-filter: var(--backdrop-blur);
  }

  .nav .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .nav__logo {
    font-size: 2rem;
    font-weight: var(--font-weight-bold);
    color: var(--color-deep-purple);

  .nav__menu {
    display: flex;
    gap: var(--spacing-xxl);
  }

  .nav__link {
    color: var(--color-text-primary);
    text-decoration: none;
    transition: color var(--transition-fast), transform var(--transition-fast);
  }

  .nav__link:hover,
  .nav__link:focus {
    color: var(--color-bright-purple);
    transform: scale(1.05);
  }

  @media (max-width: 768px) {
    .nav__menu {
      display: none;
      /* JS 切换 */
    }
  }

  /* 页脚 */
  .footer {
    background: var(--color-background);
    color: var(--color-text-light);
    padding: var(--spacing-xxl) 0;
    text-align: center;
    margin-top: auto;
    backdrop-filter: var(--backdrop-blur);
  }

  .footer a {
    color: var(--color-light-purple);
    margin: 0 var(--spacing-lg);
  }

  .footer a:hover {
    color: var(--color-bright-purple);
    animation: var(--animation-flip);
  }

  /* 模态框 */
  .modal {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    background: color-mix(in srgb, black 60%, transparent);
    z-index: 200;
    opacity: 0;
    transition: opacity var(--transition-normal);
    animation: var(--animation-fade-in);
    backdrop-filter: var(--backdrop-blur);
  }

  .modal.show {
    opacity: 1;
  }

  .modal__content {
    background: var(--color-bg-card);
    padding: var(--spacing-xxl);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-hover);
    max-width: 90%;
    transform: scale(0.8);
    transition: transform var(--transition-smooth);
  }

  .modal.show .modal__content {
    transform: scale(1);
  }

  /* 表单元素 */
  .form-group {
    margin-bottom: var(--spacing-xxl);
  }

  .form-label {
    display: block;
    margin-bottom: var(--spacing-lg);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
  }

  .form-input {
    width: 100%;
    padding: var(--spacing-xl);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background: var(--color-bg-card);
    transition: border-color var(--transition-normal);
  }

  .form-input:focus {
    border-color: var(--border-focus);
    outline: none;
    box-shadow: 0 0 0 5px color-mix(in srgb, var(--border-focus) 20%, transparent);
  }

  /* 进度条 */
  .progress {
    height: 12px;
    background: var(--color-bg-accent);
    border-radius: var(--radius-pill);
    overflow: hidden;
  }

  .progress__bar {
    height: 100%;
    background: var(--color-gradient-purple);
    transition: width var(--transition-smooth);
    animation: var(--animation-pulse);
  }

  /* 工具提示 */
  .tooltip {
    position: relative;
    display: inline-block;
  }

  .tooltip__text {
    visibility: hidden;
    background: var(--color-deep-purple);
    color: var(--color-text-light);
    text-align: center;
    padding: var(--spacing-md) var(--spacing-lg);
    border-radius: var(--radius-sm);
    position: absolute;
    z-index: 1;
    bottom: 135%;
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    transition: opacity var(--transition-fast), transform var(--transition-fast);
    white-space: nowrap;
  }

  .tooltip:hover .tooltip__text {
    visibility: visible;
    opacity: 1;
    transform: translateX(-50%) translateY(-10px);
  }

  .tooltip__text::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -7px;
    border-width: 7px;
    border-style: solid;
    border-color: var(--color-deep-purple) transparent transparent transparent;
  }

  /* 手风琴 */
  .accordion {
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    overflow: hidden;
  }

  .accordion__item {
    border-bottom: 1px solid var(--border-color);
  }

  .accordion__item:last-child {
    border-bottom: none;
  }

  .accordion__trigger {
    width: 100%;
    padding: var(--spacing-xl);
    background: var(--color-bg-card);
    text-align: left;
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: background-color var(--transition-fast), transform var(--transition-fast);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .accordion__trigger:hover {
    background: var(--color-bg-hover);
    transform: scale(1.01);
  }

  .accordion__content {
    padding: var(--spacing-xl);
    display: none;
    animation: var(--animation-fade-in);
  }

  .accordion__item:has(input:checked) .accordion__content {
    display: block;
  }

  input.accordion__input {
    display: none;
  }

  /* 选项卡 */
  .tabs {
    display: flex;
    flex-direction: column;
  }

  .tabs__nav {
    display: flex;
    border-bottom: 2px solid var(--border-color);
  }

  .tabs__tab {
    padding: var(--spacing-xl);
    cursor: pointer;
    transition: color var(--transition-fast), border-bottom var(--transition-fast);
    border-bottom: 4px solid transparent;
  }

  .tabs__tab:hover {
    color: var(--color-link-hover);
    transform: translateY(-2px);
  }

  .tabs__tab.active {
    border-bottom: 4px solid var(--color-medium-purple);
    color: var(--color-deep-purple);
  }

  .tabs__panel {
    padding: var(--spacing-xxl);
    display: none;
    animation: var(--animation-fade-in);
  }

  .tabs__panel.active {
    display: block;
  }

  /* 面包屑 */
  .breadcrumb {
    display: flex;
    gap: var(--spacing-md);
    list-style: none;
    padding: 0;
  }

  .breadcrumb li + li::before {
    content: "/";
    margin-right: var(--spacing-md);
    color: var(--color-text-secondary);
  }

  .breadcrumb a {
    color: var(--color-text-secondary);
  }

  .breadcrumb a:hover {
    color: var(--color-link-hover);
    text-decoration: underline;
  }

  /* 通知徽章 */
  .badge {
    background: var(--color-accent-purple);
    color: var(--color-text-light);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-pill);
    font-size: 0.9rem;
    margin-left: var(--spacing-md);
    animation: var(--animation-pulse);
  }

  /* 加载动画 */
  .loader {
    border: 5px solid var(--color-bg-accent);
    border-top: 5px solid var(--color-medium-purple);
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: var(--animation-spin);
  }

  /* 新增：轮播 */
  .carousel {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-base);
  }

  .carousel__inner {
    display: flex;
    transition: transform var(--transition-smooth);
  }

  .carousel__item {
    min-width: 100%;
    aspect-ratio: 16/9;
    object-fit: cover;
  }

  .carousel__nav {
    position: absolute;
    bottom: var(--spacing-md);
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: var(--spacing-sm);
  }

  .carousel__dot {
    width: 12px;
    height: 12px;
    background: var(--color-text-light);
    border-radius: 50%;
    opacity: 0.5;
    transition: opacity var(--transition-fast);
    cursor: pointer;
  }

  .carousel__dot.active {
    opacity: 1;
  }

  /* 新增：弹出菜单 */
  .dropdown {
    position: relative;
  }

  .dropdown__trigger {
    cursor: pointer;
  }

  .dropdown__menu {
    position: absolute;
    top: 100%;
    left: 0;
    background: var(--color-bg-card);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-hover);
    display: none;
    z-index: 10;
    animation: var(--animation-fade-in);
  }

  .dropdown:hover .dropdown__menu {
    display: block;
  }

  .dropdown__item {
    padding: var(--spacing-md) var(--spacing-xl);
    transition: background-color var(--transition-fast);
  }

  .dropdown__item:hover {
    background: var(--color-bg-hover);
  }

  /* 新增：数据表格 */
  .data-table {
    width: 100%;
    border-collapse: collapse;
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-card-light);
  }

  .data-table th,
  .data-table td {
    padding: var(--spacing-md);
    border: 1px solid var(--border-color);
    text-align: left;
  }

  .data-table th {
    background: var(--color-bg-secondary);
    font-weight: var(--font-weight-semibold);
  }

  .data-table tr:nth-child(even) {
    background: var(--color-bg-accent);
  }

  .data-table tr:hover {
    background: var(--color-bg-hover);
  }

  /* 新增：图表容器 */
  .chart-container {
    position: relative;
    width: 100%;
    aspect-ratio: 4/3;
    background: var(--color-bg-card);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-base);
    padding: var(--spacing-xl);
  }

  /* 新增：错误消息框 */
  .error-box {
    background: color-mix(in srgb, #ef5350 20%, white);
    color: #d32f2f;
    padding: var(--spacing-xl);
    border-radius: var(--radius-md);
    border: 1px solid #ef5350;
    margin: var(--spacing-xl) 0;
    animation: var(--animation-pulse);
  }

  .error-box::before {
    content: "⚠️ ";
    font-size: 1.2em;
  }

  /* 通用辅助 */
  img,
  figure {
    max-width: 100%;
    height: auto;
    display: block;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-card-light);
    loading: lazy;
  }

  .small-text {
    font-size: 0.75rem;
    color: var(--color-text-secondary);
  }

  .text-muted {
    color: var(--color-text-secondary);
    opacity: 0.7;
  }

  /* 搜索结果 */
  search-results {
    margin-top: var(--spacing-xxl);
    text-align: left;
    color: var(--color-text-primary);
    role: "region";
    aria-label: "Search Results";
  }

  search-results .search-result-item {
    margin-bottom: var(--spacing-xxl);
    padding-bottom: var(--spacing-xxl);
    border-bottom: 1px solid color-mix(in srgb, var(--border-color) 20%, transparent);
  }

  search-results .search-result-item:last-child {
    border-bottom: none;
  }

  search-results .search-result-link {
    color: var(--color-text-primary);
    text-decoration: none;
    display: block;
    transition: color var(--transition-fast), transform var(--transition-fast);
  }

  search-results .search-result-link:hover,
  search-results .search-result-link:focus {
    color: var(--color-bright-purple);
    transform: translateX(14px);
  }

  search-results .search-result-title {
    font-size: 1.7rem;
    margin-bottom: var(--spacing-xl);
    color: var(--color-text-primary);
    font-weight: var(--font-weight-semibold);
  }

  search-results .search-result-excerpt {
    font-size: 1.15rem;
    color: var(--color-text-secondary);
    line-height: 1.85;
    margin-top: var(--spacing-xl);
  }

  search-results p {
    color: var(--color-text-secondary);
    font-style: italic;
    text-align: center;
    padding: var(--spacing-xxl) 0;
  }

  search-results p[style*="font-weight: bold"] {
    font-style: normal;
    text-align: left;
    font-weight: var(--font-weight-bold);
  }
}

/* ========== 覆盖样式 @layer overrides ========== */
@layer overrides {
  /* 用户自定义覆盖示例 */
  :root.custom-theme {
    --hue-purple: 270;
    --sat-purple: 80%;
  }
}

@container (max-width: 650px) {
  .post-grid,
  .featured .container {
    grid-template-columns: 1fr !important;
    grid-template-areas: none !important;
    gap: var(--spacing-xl);
  }
}
    </style>
</head>
<body>
    <div class="particle-bg" id="particleCanvas"></div>

    <div class="container">
        <header class="header">
            <div class="header-inner glass-card" style="padding: var(--spacing-md); margin-top: var(--spacing-lg);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1 style="margin: 0; font-size: 1.8rem; .text-gradient()">紫韵浅紫主题 v6</h1>
                        <p style="margin-top: var(--spacing-sm); opacity: 0.8;">巅峰升级版 CSS 框架</p>
                    </div>
    
                </div>
            </div>
        </header>
    
        <section class="hero">
            <div>
                <h1 class="hero__title">紫韵浅紫主题</h1>
                <p class="hero__tagline">巅峰升级版 - 融合前沿CSS特性与现代设计美学</p>
                <button class="btn btn--primary btn--morph" id="downloadBtn">
                    <i class="fas fa-download"></i> 下载CSS文件
                </button>
            </div>
        </section>
    
        <section style="margin: var(--spacing-xxl) 0;">
            <h2 class="section-title">主题特性：浅紫明亮 + 半透明背景 + 紫色高亮</h2>
    
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-xl); margin-top: var(--spacing-xl);">
                <div class="glass-card" style="padding: var(--spacing-xl);">
                    <div style="font-size: 3rem; margin-bottom: var(--spacing-md); color: var(--color-medium-purple);">
                        <i class="fas fa-paint-brush"></i>
                    </div>
                    <h3 style="margin: 0 0 var(--spacing-sm);">升级点</h3>
                    <p>
                        - 深度优化颜色方案，引入自适应色调变体和HSL模式以支持动态主题切换。
                        - 强化半透明与模糊效果，使用 backdrop-filter 和 CSS filters 提升视觉深度和交互反馈。
                        - 全面扩展响应式设计，支持容器查询、CSS grid areas 和 viewport units 以实现超精密自适应。
                        - 完善暗模式与高对比模式，支持 prefers-contrast: more 和手动类切换 (.high-contrast)。
                        - 极致提升可访问性：集成 ARIA 标签、焦点管理、减弱颜色模式 (prefers-reduced-data) 和语义化组件。
                        - 融合前沿 CSS 特性，如 @scope、:host、scroll-timeline 和 color-mix 高级用法。
                        - 新增高级组件：轮播、弹出菜单、数据表格、图表容器、错误消息框。
                        - 引入交互动画（如翻转、弹性反弹），并优化 prefers-reduced-motion 支持。
                        - 性能巅峰：@layer 细化分层、变量局部化、选择器优化和惰性加载提示。
                        - 添加自定义属性覆盖、打印优化和触摸/指针事件适应。
                    </p>
                </div>

            </div>
        </section>
    
        <section style="margin: var(--spacing-xxl) 0;">
            <h2 class="section-title">立即使用</h2>
    
            <div class="glass-card" style="padding: var(--spacing-xl);">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-xl);">
                    <div>
                        <h3 style="margin-top: 0;">安装指南</h3>
                        <p>将CSS文件引入您的项目：</p>
                        <pre style="background: var(--color-bg-secondary); padding: var(--spacing-md); border-radius: var(--radius-sm); overflow: auto;"><code>&lt;link rel="stylesheet" href="purple-theme-v7.css"&gt;</code></pre>
                        <p style="margin-top: var(--spacing-md);">或通过CDN使用：</p>
                        <pre style="background: var(--color-bg-secondary); padding: var(--spacing-md); border-radius: var(--radius-sm); overflow: auto;"><code>&lt;link rel="stylesheet" href="https://cdn.example.com/purple-theme-v7.css"&gt;</code></pre>
                    </div>
                </div>
                <div>
                    <h3 style="margin-top: 0;">框架特点</h3>
                    <ul style="padding-left: var(--spacing-lg); line-height: 2;">
                        <li>零依赖，纯CSS实现</li>
                        <li>仅12KB (gzip压缩后)</li>
                        <li>支持所有现代浏览器</li>
                        <li>完善的文档与示例</li>
                        <li>MIT许可证，自由使用</li>
                    </ul>

                    <button class="btn btn--primary" id="downloadBtn2" style="margin-top: var(--spacing-xl); width: 100%;">
                        <i class="fas fa-download"></i> 下载完整框架
                    </button>
                </div>
            </div>
        </section>
    </div>
    
    <script>
        // 创建粒子背景
        function createParticles() {
            const container = document.getElementById('particleCanvas');
            const particleCount = 30;
    
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
    
                // 随机大小 (2px 到 8px)
                const size = Math.random() * 6 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
    
                // 随机位置
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.bottom = `0`;
    
                // 随机动画延迟和持续时间
                const delay = Math.random() * 5;
                const duration = Math.random() * 4 + 3;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
    
                // 随机颜色变化
                const hue = 280 + Math.floor(Math.random() * 40) - 20;
                particle.style.backgroundColor = `hsl(${hue}, 70%, 60%)`;
    
                container.appendChild(particle);
            }
        }
    
        // 主题切换
        function setupThemeSwitcher() {
            const options = document.querySelectorAll('.theme-switcher__option');
    
            options.forEach(option => {
                option.addEventListener('click', function() {
                    // 移除所有主题类
                    document.documentElement.classList.remove(
                        'theme-ocean', 'theme-forest', 'theme-sunset'
                    );
    
                    // 添加选中主题
                    const theme = this.dataset.theme;
                    if (theme !== 'default') {
                        document.documentElement.classList.add(`theme-${theme}`);
                    }
    
                    // 更新活动状态
                    options.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
    
                    // 添加主题切换动画
                    document.documentElement.style.animation = 'none';
                    setTimeout(() => {
                        document.documentElement.style.animation = 'themeTransition 0.8s ease';
                    }, 10);
                });
            });
        }
    
        // 下载功能
        function setupDownloadButtons() {
            const buttons = document.querySelectorAll('#downloadBtn, #downloadBtn2');
    
            buttons.forEach(btn => {
                btn.addEventListener('click', function() {
                    // 获取完整的CSS内容
                    const cssContent = document.querySelector('style').textContent;
    
                    // 创建Blob对象
                    const blob = new Blob([cssContent], { type: 'text/css' });
    
                    // 创建下载链接
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'purple-theme-v7.css';
                    document.body.appendChild(a);
                    a.click();
    
                    // 清理
                    setTimeout(() => {
                        document.body.removeChild(a);
                        window.URL.revokeObjectURL(url);
                    }, 100);
    
                    // 添加下载反馈
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<i class="fas fa-check"></i> 下载完成！';
                    btn.disabled = true;
    
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                    }, 2000);
                });
            });
        }
    
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            setupThemeSwitcher();
            setupDownloadButtons();
    
            // 添加主题切换动画
            const style = document.createElement('style');
            style.textContent = `
                @keyframes themeTransition {
                    0% { opacity: 0.8; filter: blur(2px); }
                    100% { opacity: 1; filter: blur(0); }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
